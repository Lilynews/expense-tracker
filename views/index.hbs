<div class="container row">
  <div class="top col-8 mx-auto">
    <a href="/expenses/new" class="btn btn-primary mt-4 d-flex justify-content-center my-4">Create new item</a>
    <form class="input-group" action="/search" method="get">
      <label class="input-group-text" for="categoryId">Categories</label>
      <select class="form-select" name="categoryId" id="categoryId" onchange="submit()">
        <option value="">全部</option>
        {{#each catagories}}
        <option value="{{ this._id }}" {{#if this.selected}} selected {{/if}}>{{ this.name }}</option>
        {{/each}}
      </select>
    </form>
    <div class="d-flex justify-content-center mt-4 align-items-center">
      <h4 class="me-3 fw-normal">Total Amount</h4>
      <h1 class="fs-1 badge bg-primary">${{totalAmount}}</h1>
    </div>
  </div>
  <div class="col-8 mx-auto">
    <table class="table table-light mt-4">
      <thead>
        <tr class="row">
          <th class="col-1 text-center"> #</th>
          <th class="col-4 ps-3">Item / Date</th>
          <th class="col-5">Amount</th>
          <th class="col-2">Edit/ Delete</th>
        </tr>
      </thead>
      <tbody>
        <tr>

          {{#each records}}
          <td class="row border-secondary border-bottom align-items-center">
            <div class="col-1">
              <i class="{{this.categoryId.icon}} text-secondary"></i>
            </div>
            <div class="col-4">
              <h5 class="text-start m-0">{{this.name}}</h5>
              <p class="my-1">{{this.date}}</p>
            </div>
            <h3 class="col-5">${{this.amount}}</h3>
            <div class="col-2">
              <a href="/expenses/edit/{{this._id}}" class="btn btn-primary btn-sm py-2">
                <i class="fas fa-edit fa-xl"></i>
              </a>
              <form action="/expenses/{{this._id}}?_method=DELETE" method="post" class="d-inline" onclick="return confirm('Are you sure?')">
                <button class="btn btn-danger btn-sm py-2" type="submit">
                  <i class="fas fa-trash-alt fa-xl"></i>
                </button>
              </form>
            </div>
          </td>
          {{/each}}
        </tr>
      </tbody>
    </table>
  </div>
</div>